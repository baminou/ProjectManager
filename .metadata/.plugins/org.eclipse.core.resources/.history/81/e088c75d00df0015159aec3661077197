package app;

import java.io.File;
import java.io.Serializable;
import javax.swing.JTree;
import javax.swing.tree.DefaultMutableTreeNode;
import javax.swing.tree.MutableTreeNode;

/**
 * Display a file system in a JTree view
 * 
 * @version $Id: FileTree.java,v 1.9 2004/02/23 03:39:22 ian Exp $
 * @author Ian Darwin
 */
public class FileTree extends JTree implements Serializable
{   
   public FileTree(String path)
   {
      super(scan(new File(path)));
   }

   private static MutableTreeNode scan(File node)
   {
	   DefaultMutableTreeNode ret = new DefaultMutableTreeNode(node.getName());
	   for(File child : node.listFiles()){
		   ret.add(child.getName());
	   }
	   return ret;
      
      /*if (node.isDirectory())
    	  try{
    		  for (File child: node.listFiles())
    			  if(!child.isHidden()){
    				  if(child.isDirectory()){
    					  ret.add(scan(child));
    				  }
    			  }
    	  }catch(NullPointerException e){
    		  System.out.println(node.getAbsolutePath()+" - "+e.getMessage());
    	  }
      return ret;*/
   }
}