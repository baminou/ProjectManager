package controller;

import java.io.IOException;
import java.rmi.NotBoundException;

import conv.ConventionException;
import epi.ServerInterface;
import view.GeneralInfoView;
import view.GenericView;
import jxl.read.biff.BiffException;
import jxl.write.WriteException;
import jxl.write.biff.RowsExceededException;

public class GenericController extends MicroarrayController {
	private GenericView _view;
	private static GenericController instance = null;
	
	private GenericController(){
		super();
		_view = GenericView.getInstance();
		//_view.get_generateBtn().addActionListener(new GenerateActionListener());
	}
	
	public static GenericController getInstance(){
		if(instance == null){
			instance = new GenericController();
		}
		return instance;
	}

	public void set_view(GenericView _view) {
		this._view = _view;
	}

	@Override
	public void experimentListChange(int index, String value) {
		if(index>1) _view.get_platformTxtField().setEnabled(false);
		else _view.get_platformTxtField().setEnabled(true);
	}

	@Override
	public void reset() {
		_view.get_platformTxtField().setText(null);
		_view.get_additionalResultsFilesTxtArea().setText(null);
		_view.get_resultsFileDescriptionTxtArea().setText(null);
	}

	@Override
	public GeneralInfoView get_view() {
		return _view;
	}

	@Override
	public void enable() {
		_view.get_platformTxtField().setEnabled(true);
		_view.get_additionalResultsFilesTxtArea().setEnabled(true);
		_view.get_resultsFileDescriptionTxtArea().setEnabled(true);
	}

	@Override
	public void disable() {
		_view.get_platformTxtField().setEnabled(false);
		_view.get_additionalResultsFilesTxtArea().setEnabled(false);
		_view.get_resultsFileDescriptionTxtArea().setEnabled(false);
	}

	@Override
	public void generate() throws RowsExceededException, WriteException, BiffException, IOException, ConventionException, NotBoundException, app.ConventionException {
		/*GeneralInfoModel info = GeneralInfoModel.getInstance();
		ServerInterface.getInstance().get_stub().createGenericDirectory(info.get_project(),info.get_species(), info.get_description(),
				 info.get_project().get_original_folder(), info.get_title(), info.get_summary(), info.get_overall_design(), 
				info.get_contributor(), _view.get_growthProtocolTxtArea().getText(), _view.get_treatmentProtocolTxtArea().getText(), 
				_view.get_extractProtocolTxtArea().getText(), _view.get_labelProtocolTxtArea().getText(), 
				_view.get_hybProtocolTxtArea().getText(), _view.get_scanProtocolTxtArea().getText(), _view.get_dataProcessingTxtArea().getText(),
				_view.get_additionalResultsFilesTxtArea().getText(), _view.get_resultsFileDescriptionTxtArea().getText(),
				_view.get_platformTxtField().getText());*/
	}
	
}
